{"remainingRequest":"F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\node_modules\\babel-loader\\lib\\index.js!F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\src\\api\\axios.js","dependencies":[{"path":"F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\src\\api\\axios.js","mtime":1640253427308},{"path":"F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607602244340},{"path":"F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\node_modules\\babel-loader\\lib\\index.js","mtime":1607613339442}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjovXHU1MjREXHU3QUVGXHU1QjY2XHU0RTYwXHU0RTRCXHU4REVGL3Z1ZVx1N0IxNFx1OEJCMC9cdTkwMUFcdTc1MjhcdTU0MEVcdTUzRjBcdTdCQTFcdTc0MDYvc2hvcHBpbmdfbWFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjovXHU1MjREXHU3QUVGXHU1QjY2XHU0RTYwXHU0RTRCXHU4REVGL3Z1ZVx1N0IxNFx1OEJCMC9cdTkwMUFcdTc1MjhcdTU0MEVcdTUzRjBcdTdCQTFcdTc0MDYvc2hvcHBpbmdfbWFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkY6L1x1NTI0RFx1N0FFRlx1NUI2Nlx1NEU2MFx1NEU0Qlx1OERFRi92dWVcdTdCMTRcdThCQjAvXHU5MDFBXHU3NTI4XHU1NDBFXHU1M0YwXHU3QkExXHU3NDA2L3Nob3BwaW5nX21hbGwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vIOS6jOasoeWwgeijhWF4aW9zIOaLpuaIquWZqAppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZy9pbmRleCc7IC8vIOiuvue9rumFjee9riDmoLnmja7lvIDlj5Eg5ZKMIOeUn+S6p+eOr+Wig+S4jeS4gOagtwoKdmFyIGJhc2VVcmwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGNvbmZpZy5iYXNlVXJsLmRldiA6IGNvbmZpZy5iYXNlVXJsLnBybzsKCnZhciBIdHRwUmVxdXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBIdHRwUmVxdXN0KGJhc2VVcmwpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIdHRwUmVxdXN0KTsKCiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEh0dHBSZXF1c3QsIFt7CiAgICBrZXk6ICJnZXRJbnNpZGVDb25maWciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc2lkZUNvbmZpZygpIHsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBiYXNlVVJMOiB0aGlzLmJhc2VVcmwsCiAgICAgICAgaGVhZGVyOiB7fQogICAgICB9OwogICAgICByZXR1cm4gY29uZmlnOwogICAgfQogIH0sIHsKICAgIGtleTogImludGVyY2VwdG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZXJjZXB0b3JzKGluc3RhbmNlKSB7CiAgICAgIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgICAgLy8g5Zyo5Y+R6YCB6K+35rGC5LmL5YmN5YGa5Lqb5LuA5LmICiAgICAgICAgY29uc29sZS5sb2coJ+aLpuaIquWkhOeQhuivt+axgicpOwogICAgICAgIHJldHVybiBjb25maWc7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vIOWvueivt+axgumUmeivr+WBmuS6m+S7gOS5iAogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKCflpITnkIbnm7jlupQnKTsgLy8g5a+55ZON5bqU5pWw5o2u5YGa54K55LuA5LmICgogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIOWvueWTjeW6lOmUmeivr+WBmueCueS7gOS5iAoKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0gLy8gewogICAgLy8gICBiYXNlVVJMOicvckFwaScKICAgIC8vIH0KCiAgfSwgewogICAga2V5OiAicmVxdWVzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdChvcHRpb25zKSB7CiAgICAgIC8vIOivt+axggogICAgICAvLyAvYXBpL2dldExpc3QgIC9hcGkvZ2V0SG9tZQogICAgICB2YXIgaW5zdGFuc2UgPSBheGlvcy5jcmVhdGUoKTsgLy8g5oqA5benCiAgICAgIC8vIC9hcGkgLy8gYXBpMQoKICAgICAgb3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRJbnNpZGVDb25maWcoKSksIG9wdGlvbnMpOyAvLyBjb25zb2xlLmxvZyhvcHRpb25zKTsKCiAgICAgIHRoaXMuaW50ZXJjZXB0b3JzKGluc3RhbnNlKTsKICAgICAgcmV0dXJuIGluc3RhbnNlKG9wdGlvbnMpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEh0dHBSZXF1c3Q7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBIdHRwUmVxdXN0KGJhc2VVcmwpOw=="},{"version":3,"sources":["F:/前端学习之路/vue笔记/通用后台管理/shopping_mall/src/api/axios.js"],"names":["axios","config","baseUrl","process","env","NODE_ENV","dev","pro","HttpRequst","baseURL","header","instance","interceptors","request","use","console","log","error","Promise","reject","response","data","options","instanse","create","getInsideConfig"],"mappings":";;;;AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB,C,CACA;;AACA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyCJ,MAAM,CAACC,OAAP,CAAeI,GAAxD,GAA8DL,MAAM,CAACC,OAAP,CAAeK,GAA7F;;IACMC,U;AACJ,sBAAYN,OAAZ,EAAqB;AAAA;;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACD;;;;WACD,2BAAmB;AACjB,UAAMD,MAAM,GAAG;AACbQ,QAAAA,OAAO,EAAE,KAAKP,OADD;AAEbQ,QAAAA,MAAM,EAAE;AAFK,OAAf;AAMA,aAAOT,MAAP;AACD;;;WACD,sBAAcU,QAAd,EAAwB;AACtBA,MAAAA,QAAQ,CAACC,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAAUb,MAAV,EAAkB;AAClD;AACAc,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,eAAOf,MAAP;AACD,OAJD,EAIG,UAAUgB,KAAV,EAAiB;AAClB;AACA,eAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,OAPD;AASAN,MAAAA,QAAQ,CAACC,YAAT,CAAsBQ,QAAtB,CAA+BN,GAA/B,CAAmC,UAAUM,QAAV,EAAoB;AACrDL,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EADqD,CAErD;;AACA,eAAOI,QAAQ,CAACC,IAAhB;AACD,OAJD,EAIG,UAAUJ,KAAV,EAAiB;AAClBF,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ,EADkB,CAElB;;AACA,eAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,OARD;AASD,K,CACD;AACA;AACA;;;;WACA,iBAASK,OAAT,EAAkB;AAChB;AACA;AACA,UAAMC,QAAQ,GAAGvB,KAAK,CAACwB,MAAN,EAAjB,CAHgB,CAIhB;AACA;;AACAF,MAAAA,OAAO,mCAAS,KAAKG,eAAL,EAAT,GAAqCH,OAArC,CAAP,CANgB,CAOhB;;AACA,WAAKV,YAAL,CAAkBW,QAAlB;AACA,aAAOA,QAAQ,CAACD,OAAD,CAAf;AACD;;;;;;AAGH,eAAe,IAAId,UAAJ,CAAeN,OAAf,CAAf","sourcesContent":["// 二次封装axios 拦截器\n\nimport axios from 'axios'\nimport config from '../config/index'\n// 设置配置 根据开发 和 生产环境不一样\nconst baseUrl = process.env.NODE_ENV === 'development' ? config.baseUrl.dev : config.baseUrl.pro\nclass HttpRequst {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl\n  }\n  getInsideConfig () {\n    const config = {\n      baseURL: this.baseUrl,\n      header: {\n\n      }\n    }\n    return config\n  }\n  interceptors (instance) {\n    instance.interceptors.request.use(function (config) {\n      // 在发送请求之前做些什么\n      console.log('拦截处理请求');\n      return config;\n    }, function (error) {\n      // 对请求错误做些什么\n      return Promise.reject(error);\n    });\n\n    instance.interceptors.response.use(function (response) {\n      console.log('处理相应');\n      // 对响应数据做点什么\n      return response.data;\n    }, function (error) {\n      console.log(error);\n      // 对响应错误做点什么\n      return Promise.reject(error);\n    });\n  }\n  // {\n  //   baseURL:'/rApi'\n  // }\n  request (options) {\n    // 请求\n    // /api/getList  /api/getHome\n    const instanse = axios.create()\n    // 技巧\n    // /api // api1\n    options = { ...(this.getInsideConfig()), ...options }\n    // console.log(options);\n    this.interceptors(instanse)\n    return instanse(options)\n  }\n}\n\nexport default new HttpRequst(baseUrl)"]}]}