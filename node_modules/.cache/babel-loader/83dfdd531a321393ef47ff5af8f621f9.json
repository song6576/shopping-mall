{"remainingRequest":"F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\node_modules\\babel-loader\\lib\\index.js!F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\src\\store\\tab.js","dependencies":[{"path":"F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\src\\store\\tab.js","mtime":1640247083485},{"path":"F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607602244340},{"path":"F:\\前端学习之路\\vue笔记\\通用后台管理\\shopping_mall\\node_modules\\babel-loader\\lib\\index.js","mtime":1607613339442}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJGOi9cdTUyNERcdTdBRUZcdTVCNjZcdTRFNjBcdTRFNEJcdThERUYvdnVlXHU3QjE0XHU4QkIwL1x1OTAxQVx1NzUyOFx1NTQwRVx1NTNGMFx1N0JBMVx1NzQwNi9zaG9wcGluZ19tYWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgQ29va2llIGZyb20gJ2pzLWNvb2tpZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgaXNDb2xsYXBzZTogZmFsc2UsCiAgICBjdXJyZW50TWVudTogbnVsbCwKICAgIG1lbnU6IFtdLAogICAgdGFic0xpc3Q6IFt7CiAgICAgIHBhdGg6ICcvJywKICAgICAgbmFtZTogJ2hvbWUnLAogICAgICBsYWJlbDogJ+mmlumhtScsCiAgICAgIGljb246ICdob21lJwogICAgfV0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0TWVudTogZnVuY3Rpb24gc2V0TWVudShzdGF0ZSwgdmFsKSB7CiAgICAgIC8vdnVleOa3u+WKoAogICAgICBzdGF0ZS5tZW51ID0gdmFsOyAvL2Nvb2tpZeS5n+a3u+WKoAoKICAgICAgQ29va2llLnNldCgnbWVudScsIEpTT04uc3RyaW5naWZ5KHZhbCkpOwogICAgfSwKICAgIGNsZWFyTWVudTogZnVuY3Rpb24gY2xlYXJNZW51KHN0YXRlKSB7CiAgICAgIC8v5riF6Zmk5Lmf5LiA5qC3IHZ1ZXjlkoxjb29raWXpg73muIXpmaQKICAgICAgc3RhdGUubWVudSA9IFtdOwogICAgICBDb29raWUucmVtb3ZlKCdtZW51Jyk7CiAgICB9LAogICAgYWRkTWVudTogZnVuY3Rpb24gYWRkTWVudShzdGF0ZSwgcm91dGVyKSB7CiAgICAgIGlmICghQ29va2llLmdldCgnbWVudScpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8v5Y+W5Ye6Y29va2ll5pWw5o2uIOe7mXZ1ZXgKCgogICAgICB2YXIgbWVudSA9IEpTT04ucGFyc2UoQ29va2llLmdldCgnbWVudScpKTsKICAgICAgY29uc29sZS5sb2cobWVudSk7CiAgICAgIHN0YXRlLm1lbnUgPSBtZW51OyAvLyBjb25zb2xlLmxvZyhtZW51KTsKICAgICAgLy/mt7vliqDliqjmgIHot6/nlLEg5Li76Lev55Sx5Li6TWFpbi52dWUKCiAgICAgIHZhciBjdXJyZW50TWVudSA9IFt7CiAgICAgICAgcGF0aDogJy8nLAogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9NYWluIik7CiAgICAgICAgfSwKICAgICAgICBuYW1lOiAnbWFpbicsCiAgICAgICAgY2hpbGRyZW46IFtdCiAgICAgIH1dOyAvL+WmguaenOaYr+S4gOe6p+iPnOWNlSDpgqPkuYjoj5zljZXlkI3np7Dogq/lrprmnInot6/nlLEg5aaC5p6c5piv5LqM57qn6I+c5Y2V6YKj5LmI5LiA57qn5rKh5pyJIOS6jOe6p+aciei3r+eUsQoKICAgICAgY29uc29sZS5sb2cobWVudSk7CiAgICAgIHZhciBtZW51QXJyYXkgPSBbXTsKICAgICAgbWVudS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4gPSBpdGVtLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLmNvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0KCJAL3ZpZXdzLyIuY29uY2F0KGl0ZW0udXJsKSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgIH0pOwogICAgICAgICAgbWVudUFycmF5LnB1c2guYXBwbHkobWVudUFycmF5LCBfdG9Db25zdW1hYmxlQXJyYXkoaXRlbS5jaGlsZHJlbikpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpdGVtLmNvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy8iLmNvbmNhdChpdGVtLnVybCkpOwogICAgICAgICAgfTsKCiAgICAgICAgICBtZW51QXJyYXkucHVzaChpdGVtKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBjb25zb2xlLmxvZyhjdXJyZW50TWVudSk7CiAgICAgIC8v5re75Yqg5Yqo5oCB6Lev55SxCgogICAgICBjb25zb2xlLmxvZyhtZW51QXJyYXkpOyAvLyByb3V0ZXIuYWRkUm91dGUoJ21haW4nLCBtZW51QXJyYXkpCgogICAgICBtZW51QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJvdXRlci5hZGRSb3V0ZSgnTWFpbicsIGl0ZW0pOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2cocm91dGVyLmdldFJvdXRlcygpKTsKICAgIH0sCiAgICAvL+mAieaLqeagh+etviDpgInmi6npnaLljIXlsZEKICAgIHNlbGVjdE1lbnU6IGZ1bmN0aW9uIHNlbGVjdE1lbnUoc3RhdGUsIHZhbCkgewogICAgICBpZiAodmFsLm5hbWUgIT09ICdob21lJykgewogICAgICAgIHN0YXRlLmN1cnJlbnRNZW51ID0gdmFsOwogICAgICAgIHZhciByZXN1bHQgPSBzdGF0ZS50YWJzTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IHZhbC5uYW1lOwogICAgICAgIH0pOwogICAgICAgIHJlc3VsdCA9PT0gLTEgPyBzdGF0ZS50YWJzTGlzdC5wdXNoKHZhbCkgOiAnJzsKICAgICAgICBDb29raWUuc2V0KCd0YWdMaXN0JywgSlNPTi5zdHJpbmdpZnkoc3RhdGUudGFic0xpc3QpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5jdXJyZW50TWVudSA9IG51bGw7CiAgICAgIH0gLy8gdmFsLm5hbWUgPT09ICdob21lJyA/IChzdGF0ZS5jdXJyZW50TWVudSA9IG51bGwpIDogKHN0YXRlLmN1cnJlbnRNZW51ID0gdmFsKQoKICAgIH0sCiAgICAvL+iOt+WPluagh+etvgogICAgZ2V0TWVudTogZnVuY3Rpb24gZ2V0TWVudShzdGF0ZSkgewogICAgICBpZiAoQ29va2llLmdldCgndGFnTGlzdCcpKSB7CiAgICAgICAgdmFyIHRhZ0xpc3QgPSBKU09OLnBhcnNlKENvb2tpZS5nZXQoJ3RhZ0xpc3QnKSk7CiAgICAgICAgc3RhdGUudGFic0xpc3QgPSB0YWdMaXN0OwogICAgICB9CiAgICB9LAogICAgLy/lhbPpl63moIfnrb4KICAgIGNsb3NlVGFnOiBmdW5jdGlvbiBjbG9zZVRhZyhzdGF0ZSwgdmFsKSB7CiAgICAgIHZhciByZXN1bHQgPSBzdGF0ZS50YWJzTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSB2YWwubmFtZTsKICAgICAgfSk7CiAgICAgIHN0YXRlLnRhYnNMaXN0LnNwbGljZShyZXN1bHQsIDEpOwogICAgICBDb29raWUuc2V0KCd0YWdMaXN0JywgSlNPTi5zdHJpbmdpZnkoc3RhdGUudGFic0xpc3QpKTsKICAgIH0sCiAgICAvL+W3puS+p+agj+aYr+WQpuawtOW5s+WxleW8gAogICAgY29sbGFwc2VNZW51OiBmdW5jdGlvbiBjb2xsYXBzZU1lbnUoc3RhdGUpIHsKICAgICAgc3RhdGUuaXNDb2xsYXBzZSA9ICFzdGF0ZS5pc0NvbGxhcHNlOwogICAgfQogIH0sCiAgYWN0aW9uczoge30KfTs="},{"version":3,"sources":["F:/前端学习之路/vue笔记/通用后台管理/shopping_mall/src/store/tab.js"],"names":["Cookie","state","isCollapse","currentMenu","menu","tabsList","path","name","label","icon","mutations","setMenu","val","set","JSON","stringify","clearMenu","remove","addMenu","router","get","parse","console","log","component","children","menuArray","forEach","item","map","url","push","addRoute","getRoutes","selectMenu","result","findIndex","getMenu","tagList","closeTag","splice","collapseMenu","actions"],"mappings":";;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,UAAU,EAAE,KADP;AAELC,IAAAA,WAAW,EAAE,IAFR;AAGLC,IAAAA,IAAI,EAAE,EAHD;AAILC,IAAAA,QAAQ,EAAE,CACR;AACEC,MAAAA,IAAI,EAAE,GADR;AAEEC,MAAAA,IAAI,EAAE,MAFR;AAGEC,MAAAA,KAAK,EAAE,IAHT;AAIEC,MAAAA,IAAI,EAAE;AAJR,KADQ;AAJL,GADM;AAcbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACDV,KADC,EACMW,GADN,EACW;AAClB;AACAX,MAAAA,KAAK,CAACG,IAAN,GAAaQ,GAAb,CAFkB,CAGlB;;AACAZ,MAAAA,MAAM,CAACa,GAAP,CAAW,MAAX,EAAmBC,IAAI,CAACC,SAAL,CAAeH,GAAf,CAAnB;AACD,KANQ;AAOTI,IAAAA,SAPS,qBAOCf,KAPD,EAOQ;AACf;AACAA,MAAAA,KAAK,CAACG,IAAN,GAAa,EAAb;AACAJ,MAAAA,MAAM,CAACiB,MAAP,CAAc,MAAd;AACD,KAXQ;AAYTC,IAAAA,OAZS,mBAYDjB,KAZC,EAYMkB,MAZN,EAYc;AACrB,UAAI,CAACnB,MAAM,CAACoB,GAAP,CAAW,MAAX,CAAL,EAAyB;AACvB;AACD,OAHoB,CAIrB;;;AACA,UAAIhB,IAAI,GAAGU,IAAI,CAACO,KAAL,CAAWrB,MAAM,CAACoB,GAAP,CAAW,MAAX,CAAX,CAAX;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYnB,IAAZ;AACAH,MAAAA,KAAK,CAACG,IAAN,GAAaA,IAAb,CAPqB,CAQrB;AACA;;AACA,UAAID,WAAW,GAAG,CAChB;AACEG,QAAAA,IAAI,EAAE,GADR;AAEEkB,QAAAA,SAAS,EAAE;AAAA,iBAAM,sBAAN;AAAA,SAFb;AAGEjB,QAAAA,IAAI,EAAE,MAHR;AAIEkB,QAAAA,QAAQ,EAAE;AAJZ,OADgB,CAAlB,CAVqB,CAkBrB;;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYnB,IAAZ;AACA,UAAIsB,SAAS,GAAG,EAAhB;AACAtB,MAAAA,IAAI,CAACuB,OAAL,CAAa,UAAAC,IAAI,EAAI;AACnB,YAAIA,IAAI,CAACH,QAAT,EAAmB;AACjBG,UAAAA,IAAI,CAACH,QAAL,GAAgBG,IAAI,CAACH,QAAL,CAAcI,GAAd,CAAkB,UAAAD,IAAI,EAAI;AACxCA,YAAAA,IAAI,CAACJ,SAAL,GAAiB;AAAA,qBAAM,yBAAkBI,IAAI,CAACE,GAAvB,EAAN;AAAA,aAAjB;;AACA,mBAAOF,IAAP;AACD,WAHe,CAAhB;AAIAF,UAAAA,SAAS,CAACK,IAAV,OAAAL,SAAS,qBAASE,IAAI,CAACH,QAAd,EAAT;AACD,SAND,MAMO;AACLG,UAAAA,IAAI,CAACJ,SAAL,GAAiB;AAAA,mBAAM,yBAAkBI,IAAI,CAACE,GAAvB,EAAN;AAAA,WAAjB;;AACAJ,UAAAA,SAAS,CAACK,IAAV,CAAeH,IAAf;AACD;AACF,OAXD,EArBqB,CAiCrB;AACA;;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ,EAnCqB,CAoCrB;;AAEAA,MAAAA,SAAS,CAACC,OAAV,CAAkB,UAAAC,IAAI,EAAI;AACxBT,QAAAA,MAAM,CAACa,QAAP,CAAgB,MAAhB,EAAwBJ,IAAxB;AACD,OAFD;AAGAN,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACc,SAAP,EAAZ;AACD,KAtDQ;AAuDT;AACAC,IAAAA,UAxDS,sBAwDEjC,KAxDF,EAwDSW,GAxDT,EAwDc;AACrB,UAAIA,GAAG,CAACL,IAAJ,KAAa,MAAjB,EAAyB;AACvBN,QAAAA,KAAK,CAACE,WAAN,GAAoBS,GAApB;AACA,YAAIuB,MAAM,GAAGlC,KAAK,CAACI,QAAN,CAAe+B,SAAf,CAAyB,UAAAR,IAAI;AAAA,iBAAIA,IAAI,CAACrB,IAAL,KAAcK,GAAG,CAACL,IAAtB;AAAA,SAA7B,CAAb;AACA4B,QAAAA,MAAM,KAAK,CAAC,CAAZ,GAAgBlC,KAAK,CAACI,QAAN,CAAe0B,IAAf,CAAoBnB,GAApB,CAAhB,GAA2C,EAA3C;AACAZ,QAAAA,MAAM,CAACa,GAAP,CAAW,SAAX,EAAsBC,IAAI,CAACC,SAAL,CAAed,KAAK,CAACI,QAArB,CAAtB;AACD,OALD,MAKO;AACLJ,QAAAA,KAAK,CAACE,WAAN,GAAoB,IAApB;AACD,OARoB,CASrB;;AACD,KAlEQ;AAmET;AACAkC,IAAAA,OApES,mBAoEDpC,KApEC,EAoEM;AACb,UAAID,MAAM,CAACoB,GAAP,CAAW,SAAX,CAAJ,EAA2B;AACzB,YAAIkB,OAAO,GAAGxB,IAAI,CAACO,KAAL,CAAWrB,MAAM,CAACoB,GAAP,CAAW,SAAX,CAAX,CAAd;AACAnB,QAAAA,KAAK,CAACI,QAAN,GAAiBiC,OAAjB;AACD;AACF,KAzEQ;AA0ET;AACAC,IAAAA,QA3ES,oBA2EAtC,KA3EA,EA2EOW,GA3EP,EA2EY;AACnB,UAAIuB,MAAM,GAAGlC,KAAK,CAACI,QAAN,CAAe+B,SAAf,CAAyB,UAAAR,IAAI;AAAA,eAAIA,IAAI,CAACrB,IAAL,KAAcK,GAAG,CAACL,IAAtB;AAAA,OAA7B,CAAb;AACAN,MAAAA,KAAK,CAACI,QAAN,CAAemC,MAAf,CAAsBL,MAAtB,EAA8B,CAA9B;AACAnC,MAAAA,MAAM,CAACa,GAAP,CAAW,SAAX,EAAsBC,IAAI,CAACC,SAAL,CAAed,KAAK,CAACI,QAArB,CAAtB;AACD,KA/EQ;AAgFT;AACAoC,IAAAA,YAjFS,wBAiFIxC,KAjFJ,EAiFW;AAClBA,MAAAA,KAAK,CAACC,UAAN,GAAmB,CAACD,KAAK,CAACC,UAA1B;AACD;AAnFQ,GAdE;AAmGbwC,EAAAA,OAAO,EAAE;AAnGI,CAAf","sourcesContent":["import Cookie from 'js-cookie'\nexport default {\n  state: {\n    isCollapse: false,\n    currentMenu: null,\n    menu: [],\n    tabsList: [\n      {\n        path: '/',\n        name: 'home',\n        label: '首页',\n        icon: 'home'\n      }\n    ]\n  },\n  mutations: {\n    setMenu(state, val) {\n      //vuex添加\n      state.menu = val\n      //cookie也添加\n      Cookie.set('menu', JSON.stringify(val))\n    },\n    clearMenu(state) {\n      //清除也一样 vuex和cookie都清除\n      state.menu = []\n      Cookie.remove('menu')\n    },\n    addMenu(state, router) {\n      if (!Cookie.get('menu')) {\n        return\n      }\n      //取出cookie数据 给vuex\n      let menu = JSON.parse(Cookie.get('menu'))\n      console.log(menu);\n      state.menu = menu\n      // console.log(menu);\n      //添加动态路由 主路由为Main.vue\n      let currentMenu = [\n        {\n          path: '/',\n          component: () => import(`@/views/Main`),\n          name: 'main',\n          children: []\n        }\n      ]\n      //如果是一级菜单 那么菜单名称肯定有路由 如果是二级菜单那么一级没有 二级有路由\n      console.log(menu);\n      let menuArray = []\n      menu.forEach(item => {\n        if (item.children) {\n          item.children = item.children.map(item => {\n            item.component = () => import(`@/views/${item.url}`)\n            return item\n          })\n          menuArray.push(...item.children)\n        } else {\n          item.component = () => import(`@/views/${item.url}`)\n          menuArray.push(item)\n        }\n      })\n      // console.log(currentMenu);\n      //添加动态路由\n      console.log(menuArray);\n      // router.addRoute('main', menuArray)\n\n      menuArray.forEach(item => {\n        router.addRoute('Main', item)\n      })\n      console.log(router.getRoutes());\n    },\n    //选择标签 选择面包屑\n    selectMenu(state, val) {\n      if (val.name !== 'home') {\n        state.currentMenu = val\n        let result = state.tabsList.findIndex(item => item.name === val.name)\n        result === -1 ? state.tabsList.push(val) : ''\n        Cookie.set('tagList', JSON.stringify(state.tabsList))\n      } else {\n        state.currentMenu = null\n      }\n      // val.name === 'home' ? (state.currentMenu = null) : (state.currentMenu = val)\n    },\n    //获取标签\n    getMenu(state) {\n      if (Cookie.get('tagList')) {\n        let tagList = JSON.parse(Cookie.get('tagList'))\n        state.tabsList = tagList\n      }\n    },\n    //关闭标签\n    closeTag(state, val) {\n      let result = state.tabsList.findIndex(item => item.name === val.name)\n      state.tabsList.splice(result, 1)\n      Cookie.set('tagList', JSON.stringify(state.tabsList))\n    },\n    //左侧栏是否水平展开\n    collapseMenu(state) {\n      state.isCollapse = !state.isCollapse\n    }\n  },\n  actions: {}\n}\n"]}]}